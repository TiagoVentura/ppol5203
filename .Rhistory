pd.Series("Argentina")
import pandas as pd
pd.Series("Argentina")
print(s)
print(s)
s = pd.Series(["Argentina", "France", "Germany","Spain", "Italy", "Brazil"],
index=[2022, 2018, 2014, 2010, 2006, 2002])
p
import pandas as pd
s = pd.Series(["Argentina", "France", "Germany","Spain", "Italy", "Brazil"],
index=[2022, 2018, 2014, 2010, 2006, 2002])
print(s)
my_theme <- theme(text = element_text(family = my_font, color = "#22211d"),
rect = element_rect(fill = my_bkgd),
plot.background = element_rect(fill = my_bkgd),
panel.background = element_rect(fill = my_bkgd),
panel.border = element_rect(color="transparent"),
strip.background = element_rect(color="transparent", fill="transparent"),
legend.background = element_rect(fill = my_bkgd, color = NA),
legend.key = element_rect(size = 4, fill = "white", colour = NA),
legend.key.size = unit(1, "cm"),
legend.text = element_text(size = 16, family = my_font),
legend.title = element_text(size=16, family=my_font, face="bold"),
plot.title = element_markdown(size = 22, face = "bold", family=my_font),
plot.subtitle = element_markdown(size=16, family=my_font),
axis.title= element_text(size=22, family=my_font),
axis.text = element_text(size=16, family=my_font),
axis.title.x = element_text(hjust=1),
strip.text = element_text(family = my_font,
color = "#22211d",
size = 16, face="bold"),
plot.margin = margin(1, 1, 1, 1, "cm"),
plot.caption = element_text(size=12,
family=my_font,
hjust = 1,
face="italic"),
panel.grid =  element_line(colour = "gray95", size = 0.15, linetype =.2))
my_theme <- theme(text = element_text(family = my_font, color = "#22211d"),
rect = element_rect(fill = my_bkgd),
plot.background = element_rect(fill = my_bkgd),
panel.background = element_rect(fill = my_bkgd),
panel.border = element_rect(color="transparent"),
strip.background = element_rect(color="transparent", fill="transparent"),
legend.background = element_rect(fill = my_bkgd, color = NA),
legend.key = element_rect(size = 4, fill = "white", colour = NA),
legend.key.size = unit(1, "cm"),
legend.text = element_text(size = 16, family = my_font),
legend.title = element_text(size=16, family=my_font, face="bold"),
plot.title = element_markdown(size = 22, face = "bold", family=my_font),
plot.subtitle = element_markdown(size=16, family=my_font),
axis.title= element_text(size=22, family=my_font),
axis.text = element_text(size=16, family=my_font),
axis.title.x = element_text(hjust=1),
strip.text = element_text(family = my_font,
color = "#22211d",
size = 16, face="bold"),
plot.margin = margin(1, 1, 1, 1, "cm"),
plot.caption = element_text(size=12,
family=my_font,
hjust = 1,
face="italic"),
panel.grid =  element_line(colour = "gray95", size = 0.05, linetype =1))
my_theme <- theme(text = element_text(family = my_font, color = "#22211d"),
rect = element_rect(fill = my_bkgd),
plot.background = element_rect(fill = my_bkgd),
panel.background = element_rect(fill = my_bkgd),
panel.border = element_rect(color="transparent"),
strip.background = element_rect(color="transparent", fill="transparent"),
legend.background = element_rect(fill = my_bkgd, color = NA),
legend.key = element_rect(size = 4, fill = "white", colour = NA),
legend.key.size = unit(1, "cm"),
legend.text = element_text(size = 16, family = my_font),
legend.title = element_text(size=16, family=my_font, face="bold"),
plot.title = element_markdown(size = 22, face = "bold", family=my_font),
plot.subtitle = element_markdown(size=16, family=my_font),
axis.title= element_text(size=22, family=my_font),
axis.text = element_text(size=16, family=my_font),
axis.title.x = element_text(hjust=1),
strip.text = element_text(family = my_font,
color = "#22211d",
size = 16, face="bold"),
plot.margin = margin(1, 1, 1, 1, "cm"),
plot.caption = element_text(size=12,
family=my_font,
hjust = 1,
face="italic"),
panel.grid =  element_line(colour = "gray95", size = 0.05, linetype =1))
my_font <- "Palatino"
my_bkgd <- "white"
#my_bkgd <- "#f5f5f2"
my_theme <- theme(text = element_text(family = my_font, color = "#22211d"),
rect = element_rect(fill = my_bkgd),
plot.background = element_rect(fill = my_bkgd),
panel.background = element_rect(fill = my_bkgd),
panel.border = element_rect(color="transparent"),
strip.background = element_rect(color="transparent", fill="transparent"),
legend.background = element_rect(fill = my_bkgd, color = NA),
legend.key = element_rect(size = 4, fill = "white", colour = NA),
legend.key.size = unit(1, "cm"),
legend.text = element_text(size = 16, family = my_font),
legend.title = element_text(size=16, family=my_font, face="bold"),
plot.title = element_markdown(size = 22, face = "bold", family=my_font),
plot.subtitle = element_markdown(size=16, family=my_font),
axis.title= element_text(size=22, family=my_font),
axis.text = element_text(size=16, family=my_font),
axis.title.x = element_text(hjust=1),
strip.text = element_text(family = my_font,
color = "#22211d",
size = 16, face="bold"),
plot.margin = margin(1, 1, 1, 1, "cm"),
plot.caption = element_text(size=12,
family=my_font,
hjust = 1,
face="italic"),
panel.grid =  element_line(colour = "gray95", size = 0.05, linetype =1))
library(tidyverse)
library(tidyverse)
set.seed(123)
N = 100
x <- rnorm(N)
B <- runif(7,-5,5)
y <- X%*%B + rnorm(N,mean = 0,.2)
D = tibble(x,y = as.numeric(y))
library(tidyverse)
set.seed(123)
N = 100
x <- rnorm(N)
X <- splines::bs(x,degree=7)
B <- runif(7,-5,5)
y <- X%*%B + rnorm(N,mean = 0,.2)
D = tibble(x,y = as.numeric(y))
modA = lm(y ~ x,data = D)
D$yhatA = predict(modA,D)
modD = lm(y ~ poly(x,21),data = D)
D$yhatD = predict(modD,D)
modB = lm(y ~ poly(x,2),data = D)
D$yhatB = predict(modB,D)
modC = lm(y ~ poly(x,5),data = D)
D$yhatC = predict(modC,D)
mse = function(y,yh) { mean((y-yh)^2) }
D %>%
gather(mod,yh,-y,-x) %>%
mutate(mod = str_remove(mod,"yhat")) %>%
group_by(mod) %>%
mutate(mse =mean((y-yh)^2),
mse_txt = str_glue("Model {mod}\nMSE = {round(mse,3)}")) %>%
ggplot(aes(x,y)) +
geom_point(alpha=.7,size=3,color="grey30") +
geom_line(aes(x,yh),color="blue",size=2,alpha=.6) +
theme_bw() +
facet_wrap(~mse_txt) +
theme(legend.position = "none",
axis.title = element_text(size=18),
axis.text = element_text(size=20),
strip.text = element_text(size=24),
text = element_text(family="serif"))
# Final Project Proposal due this Friday!! {background-color="#AA4A44"}
$$E(y - \hat{y})^2$$
300/31
200/31
200/23
200/22
2400*30
# Example list of 10 names
names <- c("Zhiyang", "Darren", "Yi", "Yuhan", "Saad", "Kattie", "Helen",
"Jiani", "Emily")
# Randomly shuffle the names
set.seed(123) # optional, for reproducibility
shuffled <- sample(names)
# Build pairs
pairs <- split(shuffled, ceiling(seq_along(shuffled)/2))
# Print result
pairs
# Example list of 10 names
names <- c("Zhiyang", "Darren", "Yi", "Puran", "Yuhan", "Saad", "Kattie", "Helen",
"Jiani", "Emily")
# Randomly shuffle the names
set.seed(123) # optional, for reproducibility
shuffled <- sample(names)
# Build pairs
pairs <- split(shuffled, ceiling(seq_along(shuffled)/2))
# Print result
pairs
getwd()
read_csv("lecture_notes/_old/week-04/gapminder.csv")
library(tidyverser)
library(tidyverse)
read_csv("lecture_notes/_old/week-04/gapminder.csv")
# relative path
read_csv("lecture_notes/_old/week-04/gapminder.csv")
getwd()
# absolute
read_csv("/Users/tb186/Dropbox/courses/ds-1/ppol5203/lecture_notes/_old/week-04/gapminder.csv")
usethis::edit_r_environ()
usethis::edit_r_environ()
reticulate::repl_python()
# Packages ------------------------------------------------------------
library(httr)
# Packages ------------------------------------------------------------
library(httr)
library(base64enc)
library(jsonlite)
library(dplyr)
library(tools)
library(tidyverse)
library(janitor)
# mine is stored locally
renviron_path <- file.path(Sys.getenv("HOME"), ".Renviron")
# mine is stored locally
renviron_path <- file.path(Sys.getenv("HOME"), ".Renviron")
renviron_content <- readLines(renviron_path)
api_key <- grep("^OPENAI_API_KEY=", renviron_content, value = TRUE)
api_key
renviron_content
# mine is stored locally
api_key <- Sys.getenv("OPENAI_API_KEY")
# mine is stored locally
api_key <- Sys.getenv("OPENAI_API_KEY")
api_key
list(role = "system",
)
## Creating a payload
payload <- list(
model = "gpt-4o-mini",
temperature = 0,
messages = list(
list(role = "system",
content ="You are a helpful assistant"),
list(role = "user",
content = "Tell me your thoughts about studying at Georgetown")
))
# Connecting with the API
response <- POST(
url = "https://api.openai.com/v1/chat/completions",
add_headers(
Authorization = paste("Bearer", api_key),
`Content-Type` = "application/json"
),
body = toJSON(payload, auto_unbox = TRUE),
encode = "json"
)
# Checking Output
str(response)
# Checking Output
str(response, 2)
# cleaning
raw_response <- content(response, "text", encoding = "UTF-8")
raw_response
# cleaning
raw_response <- jsonlite::fromJSON(content(response, "text", encoding = "UTF-8"))
raw_response
# get the message
raw_response$choices$message
# get the message
raw_response$choices$message$content
knitr::include_graphics("https://static.semrush.com/blog/uploads/media/59/fc/59fc528eecc00e43b1a3ed5d9b9933ee/4YA3vCJ_Hw6DucoVZ40FbKFRppAReJVOkLKHcZlDkO-9geydLO6tw9uzFJFZf5nam3QcT7p0hRdpFyL2uPhoDISD8CPZwfPE5GTqgpH53q9M99QWgDVhjgQrCMOlQI9fA1T2dCxJ5T2goCV3k1wo-Jc.webp")
raw_response$choices$message$content
291-157
knitr::include_graphics("https://www.analyticsvidhya.com/wp-content/uploads/2016/08/Modeling1.png")
